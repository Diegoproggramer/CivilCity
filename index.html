<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Civil City - Command Platform</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --primary-color: #00f7ff; --secondary-color: #ffd700; --bg-color: #0a0a14; --card-bg: rgba(10, 20, 30, 0.8); }
        body { background-color: var(--bg-color); color: #e0e0e0; font-family: 'Courier New', monospace; margin: 0; padding: 0; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { text-align: center; margin-bottom: 20px; border-bottom: 1px solid var(--primary-color); padding-bottom: 20px; }
        .header h1 { color: var(--primary-color); text-shadow: 0 0 10px var(--primary-color); }
        nav { display: flex; justify-content: center; gap: 15px; margin-bottom: 30px; background: var(--card-bg); padding: 10px; border-radius: 10px; border: 1px solid #333; }
        .nav-tab { background: none; border: 1px solid transparent; color: #aaa; padding: 10px 20px; cursor: pointer; font-size: 16px; transition: all 0.3s; }
        .nav-tab:hover { color: var(--secondary-color); }
        .nav-tab.active { color: var(--primary-color); border-bottom: 1px solid var(--primary-color); font-weight: bold; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 30px; }
        .card { background: var(--card-bg); border: 1px solid var(--primary-color); border-radius: 10px; padding: 20px; backdrop-filter: blur(5px); box-shadow: 0 0 15px rgba(0, 247, 255, 0.2); }
        .card h2 { color: var(--secondary-color); margin-top: 0; border-bottom: 1px solid #555; padding-bottom: 10px; }
        #news-ticker { background: #111; border: 1px solid var(--secondary-color); padding: 10px; text-align: center; margin-bottom: 30px; overflow: hidden; white-space: nowrap; }
        #news-ticker-content { display: inline-block; transition: opacity 0.5s; }
        .tradingview-widget-container { height: 400px; }
        input, select, button { background: #222; border: 1px solid var(--primary-color); color: #fff; padding: 10px; border-radius: 5px; width: 100%; box-sizing: border-box; margin-top: 10px; }
        button, .button { cursor: pointer; background: #005555; font-weight: bold; transition: all 0.2s; text-align: center; }
        button:hover, .button:hover { background-color: #008888; box-shadow: 0 0 10px var(--primary-color); }
        #estimatorResult { margin-top: 15px; font-weight: bold; text-align: center; }
        
        /* Mining Terminal Styles */
        #mining-terminal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.95); z-index: 10000; flex-direction: column; justify-content: center; align-items: center; backdrop-filter: blur(10px); }
        #close-terminal-btn { position: absolute; top: 20px; right: 20px; background: none; border: 1px solid #888; color: #888; font-size: 24px; width: 40px; height: 40px; border-radius: 50%; }
        #mine-click-area { width: 250px; height: 250px; background: radial-gradient(circle, #003333, #0a0a14); border: 5px solid var(--primary-color); border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 48px; color: var(--primary-color); text-shadow: 0 0 20px var(--primary-color); cursor: pointer; user-select: none; transition: transform 0.1s; position: relative; }
        .floating-text { position: absolute; font-size: 24px; color: var(--secondary-color); animation: float-up 1s forwards; opacity: 1; pointer-events: none; }
        @keyframes float-up { to { transform: translateY(-100px); opacity: 0; } }
        #balance-display { text-align: center; margin-bottom: 30px; }
        #balance-display span { font-size: 16px; color: #888; }
        #civ-balance-terminal { font-size: 48px; font-weight: bold; color: #fff; }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>CIVIL CITY</h1>
            <p id="brand-story">درحال بارگذاری داده‌های استراتژیک...</p>
        </header>

        <nav>
            <button class="nav-tab" data-target="#command-center-tab">اتاق فرماندهی</button>
            <button class="nav-tab" data-target="#civ-protocol-tab">پروتکل CIV</button>
            <button class="nav-tab" data-target="#intel-database-tab">پایگاه داده تحلیلی</button>
        </nav>

        <!-- Tab 1: Command Center -->
        <div id="command-center-tab" class="tab-content">
            <div id="news-ticker"><span id="news-ticker-content">درحال بارگذاری اخبار...</span></div>
            <div class="grid">
                <div class="card"><h2>نرخ لحظه‌ای BTC/USDT</h2><div class="tradingview-widget-container" id="tv-widget-container"><script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js" async>{"symbols": [["BINANCE:BTCUSDT|1D"]],"chartOnly": false,"width": "100%","height": "100%","locale": "fa_IR","colorTheme": "dark","autosize": true,"showVolume": false,"showMA": false,"hideDateRanges": false,"hideMarketStatus": false,"hideSymbolLogo": false,"scalePosition": "right","scaleMode": "Normal","fontFamily": "Trebuchet MS, sans-serif","fontSize": "10","noTimeScale": false,"valuesTracking": "1","changeMode": "price-and-percent","chartType": "area","maLineColor": "#2962FF","maLineWidth": 1,"maLength": 9,"lineWidth": 2,"lineType": 0,"dateRanges": ["1d","1w","1m"],"isTransparent": true}</script></div></div>
                <div class="card"><h2>ماشین‌حساب هزینه ساخت (AI)</h2><form id="estimatorForm"><input type="number" id="area" placeholder="متراژ (متر مربع)" required><select id="quality"><option value="standard">استاندارد</option><option value="premium">درجه یک</option><option value="luxury">لوکس</option></select><button type="submit">محاسبه</button></form><div id="estimatorResult"></div></div>
                <div class="card"><h2>تحلیل بازار مسکن</h2><canvas id="housingChart"></canvas></div>
                <div class="card"><h2>تحلیل بازار فولاد</h2><canvas id="steelChart"></canvas></div>
            </div>
            <div class="card" style="margin-top: 30px; text-align: center;">
                <h2>ترمینال ماینینگ CIV</h2>
                <p>وارد ترمینال شوید و استخراج توکن حاکمیتی Civil City را آغاز کنید.</p>
                <button id="open-miner-btn" class="button" style="padding: 15px 40px; font-size: 18px;">ورود به ترمینال</button>
            </div>
        </div>

        <!-- Tab 2: CIV Protocol -->
        <div id="civ-protocol-tab" class="tab-content">
            <div class="card">
                <h2>توکن CIV: اقتصاد اکوسیستم</h2>
                <p>توکن CIV، توکن حاکمیتی و کاربردی پلتفرم Civil City است. این توکن برای دسترسی به تحلیل‌های ویژه، مشارکت در تصمیم‌گیری‌های پلتفرم و پاداش به مشارکت‌کنندگان فعال طراحی شده است.</p>
                <h3>مشخصات توکن (Tokenomics)</h3>
                <ul>
                    <li><strong>نام:</strong> Civil City Token</li>
                    <li><strong>نماد:</strong> CIV</li>
                    <li><strong>حداکثر عرضه:</strong> ۱,۰۰۰,۰۰۰,۰۰۰</li>
                    <li><strong>شبکه:</strong> (در مرحله Testnet)</li>
                    <li><strong>کاربرد:</strong> دسترسی ویژه، حاکمیت، پاداش</li>
                </ul>
            </div>
        </div>

        <!-- Tab 3: Intel Database -->
        <div id="intel-database-tab" class="tab-content">
            <div class="card">
                <h2>پایگاه داده تحلیلی</h2>
                <p>این بخش به زودی با تحلیل‌های عمیق از بازارهای جهانی ساخت و ساز، روندهای نوظهور در صنعت کریپتو و گزارش‌های اختصاصی از اقتصاد کلان به‌روزرسانی خواهد شد.</p>
            </div>
        </div>
    </div>

    <!-- Mining Terminal Modal -->
    <div id="mining-terminal">
        <button id="close-terminal-btn">&times;</button>
        <div id="balance-display">
            <span>موجودی استخراج شده</span>
            <div id="civ-balance-terminal">0.000000</div>
        </div>
        <div id="mine-click-area">
            CIV
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
