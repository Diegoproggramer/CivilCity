<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Civil City - Leviathan Portal</title>
    <link rel="stylesheet" href="style.css">
    <!-- TradingView Widget BEGIN -->
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <!-- TradingView Widget END -->
</head>
<body>
    <div class="container">
        <header>
            <h1>CIVIL CITY</h1>
            <div class="header-logo"></div> <!-- Placeholder for logo -->
        </header>

        <nav>
            <button class="tab-button active" data-tab="dashboard-content">داشبورد اصلی</button>
            <button class="tab-button" data-tab="analysis-content">تحلیل بازارها</button>
            <button class="tab-button" data-tab="tools-content">ابزارها</button>
        </nav>

        <main>
            <!-- Tab 1: Dashboard -->
            <div id="dashboard-content" class="tab-content active">
                <div class="main-content">
                    <!-- TradingView Widget 1: Technical Analysis -->
                    <div class="tradingview-widget-container">
                        <div id="technical-analysis-widget"></div>
                        <script type="text/javascript">
                        new TradingView.widget(
                        {
                          "container_id": "technical-analysis-widget",
                          "width": "100%",
                          "height": "100%",
                          "symbol": "BINANCE:BTCUSDT",
                          "interval": "D",
                          "timezone": "Etc/UTC",
                          "theme": "dark",
                          "style": "1",
                          "toolbar_bg": "#f1f3f6",
                          "enable_publishing": false,
                          "withdateranges": true,
                          "hide_side_toolbar": false,
                          "allow_symbol_change": true,
                          "show_popup_button": true,
                          "popup_width": "1000",
                          "popup_height": "650",
                          "locale": "en"
                        }
                        );
                        </script>
                    </div>
                    <!-- TradingView Widget 2: Ticker Tape -->
                    <div class="tradingview-widget-container__ticker">
                        <div class="tradingview-widget-container__widget_ticker"></div>
                        <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
                        {
                        "symbols": [
                          {
                            "proName": "FOREXCOM:SPXUSD",
                            "title": "S&P 500"
                          },
                          {
                            "proName": "BITSTAMP:BTCUSD",
                            "title": "Bitcoin"
                          },
                          {
                            "proName": "BITSTAMP:ETHUSD",
                            "title": "Ethereum"
                          },
                          {
                            "description": "Gold",
                            "proName": "OANDA:XAUUSD"
                          }
                        ],
                        "showSymbolLogo": true,
                        "colorTheme": "dark",
                        "isTransparent": true,
                        "displayMode": "adaptive",
                        "locale": "en"
                      }
                        </script>
                    </div>
                </div>
                <!-- Sidebar for live intelligence feed -->
                <div class="sidebar">
                    <div id="news-sidebar-container">
                        <!-- Live Intelligence Feed will be injected here by app.js -->
                    </div>
                </div>
            </div>

            <!-- Tab 2: Market Analysis -->
            <div id="analysis-content" class="tab-content">
                <!-- TradingView Widget: Advanced Chart -->
                <div class="tradingview-widget-container" style="height: 100%;">
                  <div id="advanced-chart-widget" style="height: 100%;"></div>
                  <script type="text/javascript">
                  new TradingView.widget(
                  {
                    "autosize": true,
                    "symbol": "BINANCE:BTCUSDT",
                    "interval": "240",
                    "timezone": "Etc/UTC",
                    "theme": "dark",
                    "style": "1",
                    "locale": "en",
                    "toolbar_bg": "#f1f3f6",
                    "enable_publishing": false,
                    "withdateranges": true,
                    "hide_side_toolbar": false,
                    "allow_symbol_change": true,
                    "details": true,
                    "hotlist": true,
                    "calendar": true,
                    "container_id": "advanced-chart-widget"
                  }
                  );
                  </script>
                </div>
            </div>

            <!-- Tab 3: Tools -->
            <div id="tools-content" class="tab-content">
                <div class="tool-section">
                    <h2>CIV MINING MODULE (Ghost Protocol)</h2>
                    <div id="mining-terminal">
                        <div class="terminal-header">
                            <span>STATUS: OPERATIONAL</span>
                            <span>HASH RATE: [SIMULATED]</span>
                        </div>
                        <div id="terminal-body">
                            <!-- Log messages will appear here -->
                        </div>
                        <div class="terminal-footer">
                            <span>BALANCE: <span id="civ-balance">0.0000</span> CIV</span>
                            <span>Click anywhere in terminal to mine.</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="app.js"></script>
</body>
</html>
